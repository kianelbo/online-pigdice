<div class="container">
  <form>
    <div class="row">
      <div class="col-md-6 mx-auto pt-2">

        <legend class="mt-2">Edit your profile
          <button type="button" (click)="onCancel()" class="btn btn-outline-danger float-right">Cancel</button>
        </legend>
        <div class="card border-primary mb-3">
          <div class="card-body">
            <fieldset>
              <!-- name -->
              <div class="form-group">
                <label for="nameInput">name:</label>
                <input type="text" [(ngModel)]="newPersonalData.name" name="name" class="form-control" id="nameInput"
                       value="{{curPersonalData.name}}">
              </div>
              <!-- gender -->
              <fieldset class="form-group">
                <span class="pr-4">gender: </span>
                <div class="form-check form-check-inline" *ngFor="let g of genders">
                  <input type="radio" class="form-check-input" name="genderRadios" value="{{g}}"
                         (change)="genderHandler($event)" [checked]="curPersonalData.gender==g">{{g}}
                </div>
              </fieldset>
              <!-- birth date -->
              <div class="form-group">
                <label for="dateInput">birth date:</label>
                <input type="date" [(ngModel)]="newPersonalData.birthDate" name="birthDate" class="form-control"
                       id="dateInput" value="{{curPersonalData.birthDate}}">
              </div>
              <!-- email -->
              <div class="form-group">
                <label for="emailInput">email:</label>
                <input type="email" [(ngModel)]="newPersonalData.email" class="form-control" id="emailInput"
                       value="{{curPersonalData.email}}">
              </div>
              <button type="submit" (click)="updatePersonal()" class="btn btn-success float-right">Save</button>
            </fieldset>
          </div>
        </div>

      </div>

      <div class="col-md-6 mx-auto pt-2">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <fieldset>
              <!-- username -->
              <div class="form-group">
                <label for="usernameInput">username:</label>
                <input [(ngModel)]="newAccountData.username" type="text" name="username" class="form-control" id="usernameInput" value="{{curPersonalData.username}}">
              </div>
              <!-- password -->
              <div class="form-group">
                <label for="passwordInput">password:</label>
                <input [(ngModel)]="newAccountData.password" type="password" name="password" class="form-control" id="passwordInput" value="">
              </div>
              <button type="submit" (click)="updateAccount()" class="btn btn-success float-right">Save</button>
            </fieldset>
          </div>
        </div>

        <!-- profile picture -->
        <div class="card border-primary">
          <div class="card-body pb-0">
            <fieldset>
              <div class="form-group">
                <h6>profile picture:</h6>
                <input type="file" (change)="selectPicture($event)" class="form-control-file" id="pictureInput"
                       aria-describedby="fileHelp" accept="image/*" style="display: none;">
                <img id="preview" [src]="curPersonalData.picture" alt="current picture"/>

                <button type="button" (click)="uploadPicture()" class="btn btn-success float-right" [disabled]="!picture">Save</button>
                <button type="button" class="btn btn-info float-right" onclick="document.getElementById('pictureInput').click();">Browse</button>

              </div>
            </fieldset>
          </div>
        </div>
      </div>

    </div>
  </form>
</div>
